<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Inspired Community | Marsha Kerr Talley</title>
</head>

<body style="margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;">

<!-- ======================================================
     SITE HEADER / NAVIGATION (UNCHANGED)
====================================================== -->
<header style="width:100%;background:#ffffff;border-bottom:1px solid #e6f2f2;">
  <div style="max-width:1200px;margin:0 auto;padding:20px 16px 12px;display:flex;flex-direction:column;align-items:center;">
    <a href="index.html">
      <img src="MKT-logo-3.png" alt="Marsha Kerr Talley – Live Inspired" style="max-width:220px;">
    </a>
    <nav>
      <ul style="list-style:none;display:flex;gap:28px;padding:0;margin:12px 0 0;text-transform:uppercase;font-size:14px;">
        <li><a href="index.html" style="color:#056367;font-weight:600;">Home</a></li>
        <li><a href="work-with-me.html">Work With Me</a></li>
        <li><a href="books.html">Books</a></li>
        <li><a href="podcast.html">Podcast</a></li>
        <li><a href="reflections.html">Reflections</a></li>
      </ul>
    </nav>
  </div>
</header>

<!-- ======================================================
     FIREBASE SDKs (UNCHANGED)
====================================================== -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>

<!-- ======================================================
     COMMUNITY STYLES (UNCHANGED)
====================================================== -->
<style>
#admin-upload{min-height:100vh;padding:56px 24px;background:linear-gradient(180deg,#f6fefe,#ffffff)}
.wrap{max-width:900px;margin:0 auto;display:grid;gap:32px}
h1{text-align:center;color:#056367;font-size:44px;font-weight:900}
p.sub{text-align:center;color:#0d4b4e}

.card,.post{background:#fff;border:3px solid #2fe2dd;border-radius:26px;padding:24px;display:grid;gap:16px;box-shadow:0 20px 60px rgba(0,0,0,.08)}

.youtube-grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.yt-embed{aspect-ratio:16/9;border-radius:18px;overflow:hidden}
.yt-embed iframe{width:100%;height:100%;border:0}

.admin-link{text-align:right;color:#056367;cursor:pointer;text-decoration:underline}
#adminLoginBox,#composer,#adminIndicator{display:none}

textarea,input{width:100%;padding:14px;border-radius:14px;border:1px solid #ccc}
button{background:linear-gradient(135deg,#056367,#319fa2);color:#fff;border:none;padding:10px 22px;border-radius:999px;font-weight:800;cursor:pointer}

.error-box{border:2px solid #ffb3b3;background:#fff5f5;color:#7a1f1f;padding:14px 16px;border-radius:16px;font-size:14px}
</style>

<!-- ======================================================
     COMMUNITY SECTION (ORIGINAL STRUCTURE)
====================================================== -->
<section id="admin-upload">
<div class="wrap">

<h1>Live Inspired Community</h1>
<p class="sub">Encouragement, reflection, and shared growth.</p>

<!-- ======================================================
     ✅ NEW: YOUTUBE SECTION (ADDED CLEANLY)
====================================================== -->
<div class="card">
  <h2 style="text-align:center;color:#056367;">From YouTube · Watch & Reflect</h2>
  <p class="sub">Moments of insight, encouragement, and conversation.</p>
  <div id="youtubeGrid" class="youtube-grid"></div>
</div>

<!-- ======================================================
     ORIGINAL ADMIN + COMMUNITY UI (UNCHANGED)
====================================================== -->
<div id="adminIndicator">Admin logged in</div>
<div class="admin-link" onclick="toggleAdminLogin()">Admin login</div>

<div class="card" id="adminLoginBox">
  <input id="adminEmail" type="email" placeholder="Admin email">
  <input id="adminPassword" type="password" placeholder="Admin password">
  <button onclick="adminLogin()">Sign in</button>
  <div id="loginStatus"></div>
</div>

<div class="card" id="composer">
  <textarea id="postText" placeholder="Write your message…"></textarea>
  <input id="mediaUrl" placeholder="Optional media URL">
  <button onclick="publishPost()">Publish Post</button>
</div>

<div id="feed"></div>

</div>
</section>

<!-- ======================================================
     FIREBASE COMMUNITY LOGIC (FULLY RESTORED)
====================================================== -->
<script>
firebase.initializeApp({
  apiKey:"AIzaSyBZCg70hhCkx01ccZWePeIKAZEPC3mejkc",
  authDomain:"testimonials-8100a.firebaseapp.com",
  projectId:"testimonials-8100a",
  storageBucket:"testimonials-8100a.appspot.com"
});

const db=firebase.firestore();
const auth=firebase.auth();
const ADMIN_UID="Pv7XvFLXa8Xh1j0EMpiKoG2dIyX2";

auth.onAuthStateChanged(u=>{
  const isAdmin=!!(u&&u.uid===ADMIN_UID);
  adminIndicator.style.display=isAdmin?"block":"none";
  composer.style.display=isAdmin?"grid":"none";
});

function toggleAdminLogin(){
  adminLoginBox.style.display=adminLoginBox.style.display==="grid"?"none":"grid";
}
function adminLogin(){
  auth.signInWithEmailAndPassword(adminEmail.value,adminPassword.value);
}
async function publishPost(){
  await db.collection("posts").add({
    text:postText.value,
    createdAt:firebase.firestore.FieldValue.serverTimestamp()
  });
  postText.value="";
}
db.collection("posts").orderBy("createdAt","desc").onSnapshot(s=>{
  feed.innerHTML="";
  s.forEach(d=>{
    feed.innerHTML+=`<div class="post"><div>${d.data().text}</div></div>`;
  });
});
</script>

<!-- ======================================================
     YOUTUBE PLAYLIST AUTO-PULL (FINAL)
====================================================== -->
<script>
const YT_API_KEY = "AIzaSyC3xNazHu8AxyHooaTqOWkAudnVaNLJ5yU";
const PLAYLIST_ID = "PLfLwFGreLvJGFe9llGE1qj-0zx8sOWZui";

fetch(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${PLAYLIST_ID}&maxResults=6&key=${YT_API_KEY}`)
.then(r=>r.json())
.then(d=>{
  if(!d.items) throw d;
  youtubeGrid.innerHTML="";
  d.items.forEach(v=>{
    const id=v.snippet.resourceId.videoId;
    youtubeGrid.innerHTML+=`
      <div class="yt-embed">
        <iframe src="https://www.youtube-nocookie.com/embed/${id}" allowfullscreen></iframe>
      </div>`;
  });
})
.catch(()=>{
  youtubeGrid.innerHTML='<div class="error-box">Unable to load YouTube videos.</div>';
});
</script>

<!-- ======================================================
     SITE FOOTER (UNCHANGED + AUTO YEAR)
====================================================== -->
<footer style="text-align:center;padding:40px 16px;border-top:1px solid #eee;">
  <p>Copyright © <span id="year"></span> Marsha Kerr Talley — All Rights Reserved.</p>
</footer>

<script>
document.getElementById("year").textContent=new Date().getFullYear();
</script>

</body>
</html>
